渠道升级
===========

NOTE:渠道SDK升级和新接入步骤其实类似，仅仅因为他是升级，之前已经接过了。所以，我们只需要看看是否有资源的更新，代码的变化，新增的接口等。一般渠道普通小升级，不用动代码，直接在打包工具该渠道的配置目录下，进行资源的替换即可完成渠道SDK的升级。

请先看看[渠道SDK的接入](android_addchannel.md)和[渠道SDK的配置](android_package.md)

```
1、替换jar包和资源

将渠道SDK提供的库工程中的libs,assets,res目录替换到当前渠道在打包工具中的配置目录下。

替换之前，将原来的目录记得先删掉，不用覆盖。防止一些删除的文件，没有删掉

2、解压libs中所有的jar包，看看有没有特殊的资源

之前我们说过，有些渠道SDK的jar包中，还有assets,res或者其他非class文件的资源或者配置文件。我们需要拷贝出来。按照之前文档[我们所说的方式](android_package.md)，进行存放。

3、查看渠道SDK的文档或者Demo工程，看看渠道SDK的AndroidManifest.xml文件，将权限和activity等组件，重新拷贝到SDKManifest.xml中

4、检查是否有新增的参数需要配置，如果有，编辑config.xml,并在params节点中增加。同时，别忘记在游戏配置目录下的config.xml中的当前渠道对应的sdk-params中，也要做相应的配置。

5、检查是否有代码和接口需要升级。如果有需要导入当前渠道SDK的接入工程，然后将渠道SDK库工程中libs下的所有jar包，替换到工程中的libs中。
调用新的接口，或者修改对应的接口，然后将bin目录下生成的新的jar包，拷贝到打包工具中该渠道SDK的配置目录下，替换之前的u8sdk\_**.jar包。

6、如果渠道SDK有特殊脚本，需要看看特殊脚本中，有没有使用到当前渠道配置目录下的某些资源和文件，如果有需要做对应的更新。

7、看看当前渠道SDK是否有闪屏文件和角标的需求或者变化。如果有，则按照[之前文档](android_package.md)所说的，进行增加或者更新。


```

升级渠道SDK是比较简单的。关键是过程中，要多细心，多留意，遇到问题不要怕怕，认真思考并结合logcat分析日志，进行问题定位。^o^